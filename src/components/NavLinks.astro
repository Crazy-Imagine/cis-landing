---
import { getLangFromUrl, useTranslatedPath, useTranslations } from '@/i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const translatePath = useTranslatedPath(lang);

const pages = [
  { name: t('nav.about'), href: '/about', ariaLabel: t('aria.about-link') },
  { name: t('nav.projects'), href: '#', ariaLabel: t('aria.projects-link') },
  { name: t('nav.services'), href: '/services', ariaLabel: t('aria.services-link') },
  { name: t('nav.blog'), href: '/blog', ariaLabel: t('aria.blog-link') },
  { name: t('nav.work-with-us'), href: '#', ariaLabel: t('aria.work-with-us-link') },
];
---

<ul class:list={['hidden items-center gap-3 lg:flex xl:gap-5', Astro.props.class]}>
  {
    pages.map(({ name, href, ariaLabel }) => (
      <li>
        <a
          class="relative whitespace-nowrap font-nexaLight text-xs uppercase tracking-widest text-white
          before:absolute before:-bottom-0.5 before:-left-0.5 before:h-0.5 before:w-full before:scale-0 before:bg-white before:text-white before:transition-transform before:duration-500 before:ease-in-out
          hover:before:scale-100
          "
          href={translatePath(href, lang)}
          rel="noopener"
          aria-label={ariaLabel}
        >
          {name}
        </a>
      </li>
    ))
  }
</ul>
