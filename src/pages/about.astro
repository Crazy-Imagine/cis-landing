---
import AboutUs from '../sections/AboutUs.astro';
import Hero from '../sections/Hero.astro';
import Layout from '../layouts/Layout.astro';
import ReachOut from '../sections/ReachOut.astro';
import fetchApi from '../lib/strapi';
import type { SEO } from '../types/strapi/SEO';

const seo = await fetchApi<SEO>({
  endpoint: 'about-page',
  params: {
    locale: Astro.currentLocale,
    populate: {
      seo: true,
    },
  },
});
---

<Layout
  title={seo.data.attributes.seo.metaTitle}
  description={seo.data.attributes.seo.metaDescription}
>
  <Hero page="about" />

  <AboutUs />

  <ReachOut />
</Layout>
